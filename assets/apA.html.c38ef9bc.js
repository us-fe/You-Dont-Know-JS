import{_ as n,d as s}from"./app.a957722f.js";const a={},e=s(`<h1 id="you-don-t-know-js-yet-get-started-2nd-edition" tabindex="-1"><a class="header-anchor" href="#you-don-t-know-js-yet-get-started-2nd-edition" aria-hidden="true">#</a> You Don&#39;t Know JS Yet: Get Started - 2nd Edition</h1><h1 id="appendix-a-exploring-further" tabindex="-1"><a class="header-anchor" href="#appendix-a-exploring-further" aria-hidden="true">#</a> Appendix A: Exploring Further</h1><p>In this appendix, we&#39;re going to explore some topics from the main chapter text in a bit more detail. Think of this content as an optional preview of some of the more nuanced details covered throughout the rest of the book series.</p><h2 id="values-vs-references" tabindex="-1"><a class="header-anchor" href="#values-vs-references" aria-hidden="true">#</a> Values vs. References</h2><p>In Chapter 2, we introduced the two main types of values: primitives and objects. But we didn&#39;t discuss yet one key difference between the two: how these values are assigned and passed around.</p><p>In many languages, the developer can choose between assigning/passing a value as the value itself, or as a reference to the value. In JS, however, this decision is entirely determined by the kind of value. That surprises a lot of developers from other languages when they start using JS.</p><p>If you assign/pass a value itself, the value is copied. For example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> myName <span class="token operator">=</span> <span class="token string">&quot;Kyle&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> yourName <span class="token operator">=</span> myName<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Here, the <code>yourName</code> variable has a separate copy of the <code>&quot;Kyle&quot;</code> string from the value that&#39;s stored in <code>myName</code>. That&#39;s because the value is a primitive, and primitive values are always assigned/passed as <strong>value copies</strong>.</p><p>Here&#39;s how you can prove there&#39;s two separate values involved:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> myName <span class="token operator">=</span> <span class="token string">&quot;Kyle&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> yourName <span class="token operator">=</span> myName<span class="token punctuation">;</span>

myName <span class="token operator">=</span> <span class="token string">&quot;Frank&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Frank</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>yourName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Kyle</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>See how <code>yourName</code> wasn&#39;t affected by the re-assignment of <code>myName</code> to <code>&quot;Frank&quot;</code>? That&#39;s because each variable holds its own copy of the value.</p><p>By contrast, references are the idea that two or more variables are pointing at the same value, such that modifying this shared value would be reflected by an access via any of those references. In JS, only object values (arrays, objects, functions, etc.) are treated as references.</p><p>Consider:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> myAddress <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">street</span><span class="token operator">:</span> <span class="token string">&quot;123 JS Blvd&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;Austin&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token string">&quot;TX&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> yourAddress <span class="token operator">=</span> myAddress<span class="token punctuation">;</span>

<span class="token comment">// I&#39;ve got to move to a new house!</span>
myAddress<span class="token punctuation">.</span>street <span class="token operator">=</span> <span class="token string">&quot;456 TS Ave&quot;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>yourAddress<span class="token punctuation">.</span>street<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 456 TS Ave</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Because the value assigned to <code>myAddress</code> is an object, it&#39;s held/assigned by reference, and thus the assignment to the <code>yourAddress</code> variable is a copy of the reference, not the object value itself. That&#39;s why the updated value assigned to the <code>myAddress.street</code> is reflected when we access <code>yourAddress.street</code>. <code>myAddress</code> and <code>yourAddress</code> have copies of the reference to the single shared object, so an update to one is an update to both.</p><p>Again, JS chooses the value-copy vs. reference-copy behavior based on the value type. Primitives are held by value, objects are held by reference. There&#39;s no way to override this in JS, in either direction.</p><h2 id="so-many-function-forms" tabindex="-1"><a class="header-anchor" href="#so-many-function-forms" aria-hidden="true">#</a> So Many Function Forms</h2><p>Recall this snippet from the &quot;Functions&quot; section in Chapter 2:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">awesomeFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">coolThings</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ..</span>
    <span class="token keyword">return</span> amazingStuff<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The function expression here is referred to as an <em>anonymous function expression</em>, since it has no name identifier between the <code>function</code> keyword and the <code>(..)</code> parameter list. This point confuses many JS developers because as of ES6, JS performs a &quot;name inference&quot; on an anonymous function:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>awesomeFunction<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token comment">// &quot;awesomeFunction&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The <code>name</code> property of a function will reveal either its directly given name (in the case of a declaration) or its inferred name in the case of an anonymous function expression. That value is generally used by developer tools when inspecting a function value or when reporting an error stack trace.</p><p>So even an anonymous function expression <em>might</em> get a name. However, name inference only happens in limited cases such as when the function expression is assigned (with <code>=</code>). If you pass a function expression as an argument to a function call, for example, no name inference occurs; the <code>name</code> property will be an empty string, and the developer console will usually report &quot;(anonymous function)&quot;.</p><p>Even if a name is inferred, <strong>it&#39;s still an anonymous function.</strong> Why? Because the inferred name is a metadata string value, not an available identifier to refer to the function. An anonymous function doesn&#39;t have an identifier to use to refer to itself from inside itself\u2014for recursion, event unbinding, etc.</p><p>Compare the anonymous function expression form to:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// let awesomeFunction = ..</span>
<span class="token comment">// const awesomeFunction = ..</span>
<span class="token keyword">var</span> <span class="token function-variable function">awesomeFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">someName</span><span class="token punctuation">(</span><span class="token parameter">coolThings</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ..</span>
    <span class="token keyword">return</span> amazingStuff<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

awesomeFunction<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token comment">// &quot;someName&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>This function expression is a <em>named function expression</em>, since the identifier <code>someName</code> is directly associated with the function expression at compile time; the association with the identifier <code>awesomeFunction</code> still doesn&#39;t happen until runtime at the time of that statement. Those two identifiers don&#39;t have to match; sometimes it makes sense to have them be different, other times it&#39;s better to have them be the same.</p><p>Notice also that the explicit function name, the identifier <code>someName</code>, takes precedence when assigning a <em>name</em> for the <code>name</code> property.</p><p>Should function expressions be named or anonymous? Opinions vary widely on this. Most developers tend to be unconcerned with using anonymous functions. They&#39;re shorter, and unquestionably more common in the broad sphere of JS code out there.</p><p>In my opinion, if a function exists in your program, it has a purpose; otherwise, take it out! And if it has a purpose, it has a natural name that describes that purpose.</p><p>If a function has a name, you the code author should include that name in the code, so that the reader does not have to infer that name from reading and mentally executing that function&#39;s source code. Even a trivial function body like <code>x * 2</code> has to be read to infer a name like &quot;double&quot; or &quot;multBy2&quot;; that brief extra mental work is unnecessary when you could just take a second to name the function &quot;double&quot; or &quot;multBy2&quot; <em>once</em>, saving the reader that repeated mental work every time it&#39;s read in the future.</p><p>There are, regrettably in some respects, many other function definition forms in JS as of early 2020 (maybe more in the future!).</p><p>Here are some more declaration forms:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// generator function declaration</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">two</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// async function declaration</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">three</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// async generator function declaration</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">four</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// named function export declaration (ES6 modules)</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">five</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>And here are some more of the (many!) function expression forms:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// IIFE</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">namedIIFE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// asynchronous IIFE</span>
<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">namedAIIFE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// arrow function expressions</span>
<span class="token keyword">var</span> f<span class="token punctuation">;</span>
<span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span>
<span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> x <span class="token operator">*</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">doSomethingAsync</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> y <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">someOperation</span><span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Keep in mind that arrow function expressions are <strong>syntactically anonymous</strong>, meaning the syntax doesn&#39;t provide a way to provide a direct name identifier for the function. The function expression may get an inferred name, but only if it&#39;s one of the assignment forms, not in the (more common!) form of being passed as a function call argument (as in the last line of the snippet).</p><p>Since I don&#39;t think anonymous functions are a good idea to use frequently in your programs, I&#39;m not a fan of using the <code>=&gt;</code> arrow function form. This kind of function actually has a specific purpose (i.e., handling the <code>this</code> keyword lexically), but that doesn&#39;t mean we should use it for every function we write. Use the most appropriate tool for each job.</p><p>Functions can also be specified in class definitions and object literal definitions. They&#39;re typically referred to as &quot;methods&quot; when in these forms, though in JS this term doesn&#39;t have much observable difference over &quot;function&quot;:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">SomethingKindaGreat</span> <span class="token punctuation">{</span>
    <span class="token comment">// class methods</span>
    <span class="token function">coolMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>   <span class="token comment">// no commas!</span>
    <span class="token function">boringMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> EntirelyDifferent <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// object methods</span>
    <span class="token function">coolMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>   <span class="token comment">// commas!</span>
    <span class="token function">boringMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// (anonymous) function expression property</span>
    <span class="token function-variable function">oldSchool</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Phew! That&#39;s a lot of different ways to define functions.</p><p>There&#39;s no simple shortcut path here; you just have to build familiarity with all the function forms so you can recognize them in existing code and use them appropriately in the code you write. Study them closely and practice!</p><h2 id="coercive-conditional-comparison" tabindex="-1"><a class="header-anchor" href="#coercive-conditional-comparison" aria-hidden="true">#</a> Coercive Conditional Comparison</h2><p>Yes, that section name is quite a mouthful. But what are we talking about? We&#39;re talking about conditional expressions needing to perform coercion-oriented comparisons to make their decisions.</p><p><code>if</code> and <code>? :</code>-ternary statements, as well as the test clauses in <code>while</code> and <code>for</code> loops, all perform an implicit value comparison. But what sort? Is it &quot;strict&quot; or &quot;coercive&quot;? Both, actually.</p><p>Consider:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will run!</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will run, once!</span>
    x <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>You might think of these <code>(x)</code> conditional expressions like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will run!</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will run, once!</span>
    x <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>In this specific case -- the value of <code>x</code> being <code>1</code> -- that mental model works, but it&#39;s not accurate more broadly. Consider:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will run!</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// won&#39;t run :(</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Oops. So what is the <code>if</code> statement actually doing? This is the more accurate mental model:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will run</span>
<span class="token punctuation">}</span>

<span class="token comment">// which is the same as:</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will run</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Since the <code>Boolean(..)</code> function always returns a value of type boolean, the <code>==</code> vs <code>===</code> in this snippet is irrelevant; they&#39;ll both do the same thing. But the important part is to see that before the comparison, a coercion occurs, from whatever type <code>x</code> currently is, to boolean.</p><p>You just can&#39;t get away from coercions in JS comparisons. Buckle down and learn them.</p><h2 id="prototypal-classes" tabindex="-1"><a class="header-anchor" href="#prototypal-classes" aria-hidden="true">#</a> Prototypal &quot;Classes&quot;</h2><p>In Chapter 3, we introduced prototypes and showed how we can link objects through a prototype chain.</p><p>Another way of wiring up such prototype linkages served as the (honestly, ugly) predecessor to the elegance of the ES6 <code>class</code> system (see Chapter 2, &quot;Classes&quot;), and is referred to as prototypal classes.</p><table><thead><tr><th style="text-align:left;">TIP:</th></tr></thead><tbody><tr><td style="text-align:left;">While this style of code is quite uncommon in JS these days, it&#39;s still perplexingly rather common to be asked about it in job interviews!</td></tr></tbody></table><p>Let&#39;s first recall the <code>Object.create(..)</code> style of coding:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> Classroom <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Welcome, students!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> mathClass <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Classroom<span class="token punctuation">)</span><span class="token punctuation">;</span>

mathClass<span class="token punctuation">.</span><span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Welcome, students!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Here, a <code>mathClass</code> object is linked via its prototype to a <code>Classroom</code> object. Through this linkage, the function call <code>mathClass.welcome()</code> is delegated to the method defined on <code>Classroom</code>.</p><p>The prototypal class pattern would have labeled this delegation behavior &quot;inheritance,&quot; and alternatively have defined it (with the same behavior) as:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Classroom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ..</span>
<span class="token punctuation">}</span>

<span class="token class-name">Classroom</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">welcome</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Welcome, students!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> mathClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Classroom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mathClass<span class="token punctuation">.</span><span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Welcome, students!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>All functions by default reference an empty object at a property named <code>prototype</code>. Despite the confusing naming, this is <strong>not</strong> the function&#39;s <em>prototype</em> (where the function is prototype linked to), but rather the prototype object to <em>link to</em> when other objects are created by calling the function with <code>new</code>.</p><p>We add a <code>welcome</code> property on that empty object (called <code>Classroom.prototype</code>), pointing at the <code>hello()</code> function.</p><p>Then <code>new Classroom()</code> creates a new object (assigned to <code>mathClass</code>), and prototype links it to the existing <code>Classroom.prototype</code> object.</p><p>Though <code>mathClass</code> does not have a <code>welcome()</code> property/function, it successfully delegates to the function <code>Classroom.prototype.welcome()</code>.</p><p>This &quot;prototypal class&quot; pattern is now strongly discouraged, in favor of using ES6&#39;s <code>class</code> mechanism:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Classroom</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ..</span>
    <span class="token punctuation">}</span>

    <span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Welcome, students!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> mathClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Classroom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mathClass<span class="token punctuation">.</span><span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Welcome, students!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Under the covers, the same prototype linkage is wired up, but this <code>class</code> syntax fits the class-oriented design pattern much more cleanly than &quot;prototypal classes&quot;.</p>`,72);function t(o,p){return e}var l=n(a,[["render",t],["__file","apA.html.vue"]]);export{l as default};
